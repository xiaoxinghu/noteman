#!/usr/bin/env ruby

require 'gli'
require 'noteman'

include GLI::App

program_desc 'A CLI note manager.'

command :hi do |c|
  c.action do |global_options,options,args|
    puts 'hi'
  end
end

desc 'Show Cheatsheets'
arg_name 'tags'
command :cheat do |c|
  c.action do |global_options,options,args|
    man = Noteman::CheatMan.new
    man.show *args
  end
end

desc 'capture new note'
arg_name 'note'
command :new do |c|
  c.action do |global_options,options,args|
    man = Noteman::CaptureMan.new
    if args.length > 0
      man.capture args.join ' '
    else
      input = man.fork_editor
      man.capture input
    end
  end
end

exit run(ARGV)
